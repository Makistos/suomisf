{% extends "base.html" %}
{% block content %}

{% from 'macros.html' import render_field %}

<div class="container mt-3">
    <form action="" method="post">
        {{ form.hidden_tag() }}
        {% if form.hidden_author_name.data == "" %}
        <div class="form-row">
            <div class="col-md-3 mb-3">
                <b>Kirjoittaja</b>
            </div>
            <div class="col-md-8 mb-3">
                <select class="form-control" data-placeholder="Kirjoittaja" data-search="/select_person"
                    data-name="authors" id="authors" name="authors"></select>
            </div>
        </div>
        {% else %}
        <div class="row">
            <div class="col-md-3 mb-3">
                <b>Kirjoittaja</b>
            </div>
            <div class="col-md-8 mb-3">
                {{ form.hidden_author_name.data }}
            </div>
        </div>
        {% endif %}
        {% if form.hidden_editor_name.data == "" %}
        <div class="form-row">
            <div class="col-md-3 mb-3">
                <b>Toimittaja</b>
            </div>
            <div class="col-md-8 mb-3">
                <select class="form-control" data-placeholder="Toimittaja" data-search="/select_person"
                    data-name="editors" id="editors" name="editors"></select>
            </div>
        </div>
        {% else %}
        <div class="row">
            <div class="col-md-3 mb-3">
                <b>Toimittaja</b>
            </div>
            <div class="col-md-8 mb-3">
                {{ form.hidden_editor_name.data }}
            </div>
        </div>
        {% endif %}
        {{ render_field(form.title) }}
        {{ render_field(form.subtitle) }}
        {{ render_field(form.orig_title) }}
        {{ render_field(form.pubyear) }}
        <div class="form-row">
            <div class="col-md-3 mb-3">
                <b>Kustantaja</b>
            </div>
            <div class="col-md-8 mb-3">
                <select class="form-control" data-placeholder="Kustantaja" data-search="/select_publisher"
                    data-name="publisher" name="publisher" id="publisher">
            </div>
        </div>

        <div class="row">
            <div class="col-md-3 mb-3">
            </div>
            <div class="col-md-8 mb-3 text-align-center">
                {{ form.submit() }}
            </div>
        </div>

    </form>
</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript">
    var itemId = '0'
</script>
<script src="/static/js/forms.js" type="text/javascript"></script>
{% endblock %}