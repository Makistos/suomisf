{% extends "base.html" %}
{% block content %}
<div class="container">
<div class="container" style="text-align: center;"><a href=" {{ url_for('print_books', type='pubseries', id=series.id) }}
                    ">Tulosta</a></div>
<h1>{{series.name}} ({{ series.publisher.name }})
{% if favorite == 1 %}*{% endif %}
</h1>
{% if current_user.is_authorized %}
	{% if favorite == 1 %}
	    <div class="small-link>">[<a href="{{url_for('removefavpubcol',
			 pubseriesid=series.id)}}">Poista suosikeista</a>]</div>
	{% else %}
	    <div class="small-link>">[<a href="{{url_for('addfavpubcol',
		     pubseriesid=series.id)}}">Lisää suosikiksi</a>]
	    </div>
	{% endif %}
	<br>
{% endif %}

<h2>{{ books|map(attribute='pubyear')|min }} -
	{{ books|map(attribute='pubyear')|max }}
</h2>
Kirjoja yhteensä {{ books|length }}<br>

<br>

<ol class="list-group list-group-flush">
{% for edition in books %}
<li style="list-style-position: inside; 
            "> {% include "_edition.html" %}</li>
{% endfor %}
</ol>
{% endblock %}

{% block scripts %}

    <script>
        $(".ownerstate").click(function() {
		var obj = $('#SelectElementId');
                var addr = $(this).attr('href');
            if (addr == '#remove') {
		$(this).parent().attr('style', 'padding-left: 25px;');
                $(this).attr('href', '#add');
                $(this).text(' + ');
                var request = $.ajax({
                    type: 'POST',
                    url: '/remove_from_owned/' + $(this).attr('id'),
                });
            } else if (addr == '#add') {
		$(this).parent().attr('style', 'border-left: 6px solid grey; padding-left: 23px');
		$(this).attr('href', '#remove');
		$(this).text(' - ');
                var request = $.ajax({
                    type: 'POST',
                    url: '/add_to_owned/' + $(this).attr('id'),
                });
            }

           return false;
        });

    </script>

</div>
{% endblock %}
